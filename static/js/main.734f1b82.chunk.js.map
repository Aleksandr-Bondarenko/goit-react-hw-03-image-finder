{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/images-finder-api.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Seachbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","searchImages","handleChangeInput","e","currentTarget","name","value","setState","handleSubmitQuery","preventDefault","trim","props","onSubmit","toLowerCase","className","s","searchbar","form","this","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","handleOpenModal","map","id","tags","webformatURL","largeImageURL","item","onClick","src","alt","img","Button","handlePageIncrement","Load","color","height","width","timeout","style","margin","Modal","url","hideModal","window","addEventListener","overlay","modalLoader","modal","modalImg","api","fetchImages","query","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","status","moreBtnShow","error","modalShow","scrollTo","top","document","documentElement","scrollHeight","behavior","showModal","find","image","querySelector","overflowY","target","key","removeEventListener","prevProps","searchQuery","data","prevState","hits","length","totalHits","catch","title","gallery","message","App","handleSearchQueryOnSubmit","inputValue","app","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.734f1b82.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1oqU1\",\"img\":\"ImageGalleryItem_img__1UI_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1GjiM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1OfLY\"};","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Seachbar.module.css\";\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n\n  state = {\n    searchImages: \"\",\n  };\n\n  handleChangeInput = (e) => {\n    const { name, value } = e.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmitQuery = (e) => {\n    e.preventDefault();\n    if (this.state.searchImages.trim(\" \") === \"\") {\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchImages.toLowerCase());\n    this.setState({ searchImages: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handleSubmitQuery}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"searchImages\"\n            value={this.state.searchImages}\n            onChange={this.handleChangeInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalleryItem({ images, handleOpenModal }) {\n  return images.map(({ id, tags, webformatURL, largeImageURL }) => (\n    <li\n      className={s.item}\n      // key={webformatURL} //Если на бэке случается баг с повторением картинок и id\n      key={id}\n      onClick={() => handleOpenModal(id, tags, largeImageURL)}\n    >\n      <img src={webformatURL} alt={tags} className={s.img} />\n    </li>\n  ));\n}\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape),\n  onClickHandler: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Button({ handlePageIncrement }) {\n  return (\n    <button className={s.button} type=\"button\" onClick={handlePageIncrement}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n\nButton.propTypes = {\n  handlePageIncrement: PropTypes.func,\n};\n","import Loader from \"react-loader-spinner\";\n\nfunction Load() {\n  return (\n    <Loader\n      type=\"ThreeDots\"\n      color=\"#303f9f\"\n      height={30}\n      width={60}\n      timeout={30000}\n      style={{ margin: \"0 auto\" }}\n    />\n  );\n}\n\nexport default Load;\n","import s from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\nimport Load from \"../Loader/Loader\";\n\nfunction Modal({ url, tags, hideModal }) {\n  window.addEventListener(\"keydown\", hideModal);\n  return (\n    <div className={s.overlay} onClick={hideModal}>\n      <div className={s.modalLoader}>\n        <Load />\n      </div>\n      <div className={s.modal}>\n        <img src={url} alt={tags} className={s.modalImg} />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  url: PropTypes.string,\n  tags: PropTypes.string,\n  hideModal: PropTypes.func,\n};\n","const USER_KEY = \"22971640-b13f0b0978f0830ddac6b5885\";\n\nfunction fetchImages(query, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${USER_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(\"Oops, something went wrong!\"));\n  });\n}\n\nconst api = { fetchImages };\n\nexport default api;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport Load from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\nimport api from \"../../services/images-finder-api\";\nimport s from \"./ImageGallery.module.css\";\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    searchQuery: PropTypes.string,\n    page: PropTypes.number,\n    handlerPageIncrement: PropTypes.func,\n  };\n\n  state = {\n    images: [],\n    status: \"idle\",\n    moreBtnShow: false,\n    error: null,\n\n    modal: {\n      modalShow: false,\n      url: null,\n      tags: null,\n    },\n  };\n\n  componentDidUpdate(prevProps) {\n    const { searchQuery, page } = this.props;\n\n    if (prevProps.searchQuery !== searchQuery || prevProps.page !== page) {\n      this.setState({ status: \"pending\" });\n\n      return api\n        .fetchImages(searchQuery, page)\n        .then((data) => {\n          this.setState((prevState) => ({\n            images:\n              prevState.images && page > 1\n                ? [...prevState.images, ...data.hits]\n                : data.hits,\n            status: \"resolved\",\n            moreBtnShow:\n              prevProps.searchQuery === searchQuery\n                ? prevState.images.length + data.hits.length !== data.totalHits\n                : data.totalHits > 12,\n          }));\n\n          this.scrollTo();\n        })\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\n    }\n  }\n\n  scrollTo = () => {\n    return window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  showModal = (id, tags, url) => {\n    if (this.state.images.find((image) => image.id === id)) {\n      document.querySelector(\"body\").style.overflowY = \"hidden\";\n      this.setState({ modal: { modalShow: true, url, tags } });\n    }\n  };\n\n  hideModal = (e) => {\n    if (e.currentTarget === e.target || e.key === \"Escape\") {\n      document.querySelector(\"body\").style.overflowY = \"visible\";\n      this.setState({ modal: { modalShow: false } });\n      window.removeEventListener(\"keydown\", this.hideModal);\n    }\n  };\n\n  render() {\n    const {\n      images,\n      status,\n      moreBtnShow,\n      error,\n      modal: { modalShow, url, tags },\n    } = this.state;\n\n    if (status === \"idle\") {\n      return <h1 className={s.title}>What are you interested now?</h1>;\n    }\n\n    if (status === \"pending\") {\n      return (\n        <>\n          {this.props.page === 1 ? (\n            <Load />\n          ) : (\n            <>\n              <ul className={s.gallery}>\n                <ImageGalleryItem\n                  images={images}\n                  handleOpenModal={this.showModal}\n                />\n              </ul>\n              <Load />\n            </>\n          )}\n        </>\n      );\n    }\n\n    if (status === \"resolved\") {\n      if (images.length === 0) {\n        return (\n          <p className={s.message}>\n            Nothing was found, please try another request!\n          </p>\n        );\n      }\n\n      return (\n        <>\n          <ul className={s.gallery}>\n            <ImageGalleryItem\n              images={images}\n              handleOpenModal={this.showModal}\n            />\n          </ul>\n          {moreBtnShow && (\n            <Button handlePageIncrement={this.props.handlePageIncrement} />\n          )}\n          {modalShow && (\n            <Modal url={url} tags={tags} hideModal={this.hideModal} />\n          )}\n        </>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <h1 className={s.error}>{error.message}</h1>;\n    }\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    page: null,\n  };\n\n  handleSearchQueryOnSubmit = (inputValue) => {\n    this.setState({ searchQuery: inputValue, page: 1 });\n  };\n\n  handlePageIncrement = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className={s.app}>\n        <Searchbar onSubmit={this.handleSearchQueryOnSubmit} />\n        <ImageGallery\n          searchQuery={this.state.searchQuery}\n          page={this.state.page}\n          handlePageIncrement={this.handlePageIncrement}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Seachbar_searchbar__jh0M8\",\"form\":\"Seachbar_form__1Gsrc\",\"button\":\"Seachbar_button__1JZPD\",\"label\":\"Seachbar_label__3PTip\",\"input\":\"Seachbar_input__3j4tr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__nReFm\",\"title\":\"ImageGallery_title__3cttW\",\"message\":\"ImageGallery_message__1kH9K\",\"error\":\"ImageGallery_error__3Wtah\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1a2F5\",\"modal\":\"Modal_modal__16mPa\",\"modalImg\":\"Modal_modalImg__3f_aP\",\"modalLoader\":\"Modal_modalLoader__1yK0n\"};"],"sourceRoot":""}